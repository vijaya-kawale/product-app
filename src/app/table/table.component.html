
<div class="mt-4">
    <p-button (click)="showDialog()" label="Add Product" />
    <p-dialog header="Edit Profile" [modal]="true" [(visible)]="visible" [style]="{ width: '25rem' }">
        <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label>Product Name</label>
                <input type="text" class="form-control" name="prodName" formControlName="ProdName">
                <span class="error" *ngIf="!productForm.get('ProdName').valid && productForm.get('ProdName').touched">product name is required</span>
            </div>
            <div class="form-group">
                <label>Quantity</label>
                <input type="text" class="form-control" name="quantity" formControlName="quantity">
                <span class="text-red" *ngIf="!productForm.get('quantity').valid && productForm.get('quantity').touched">quantity is required</span>
            </div>
            <div class="form-group">
                <label>Price</label>
                <input type="text" class="form-control" name="price" formControlName="price">
                <span class="text-red" *ngIf="!productForm.get('price').valid && productForm.get('price').touched">price is required</span>
            </div>
            <div class="flex justify-content-end gap-2">
                <p-button label="Cancel" severity="secondary" (click)="visible = false" class="mr-2" />
                <p-button label="Submit" type="Submit" [disabled]="!productForm.valid"/>
            </div>
        </form>
    </p-dialog>
</div>
<div class="row mt-3">
    <div class="col-sm-12">
        <div class="card">
            <p-table [value]="products" [tableStyle]="{ 'width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Product Name</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-product>
                    <tr>
                        <td>{{ product.ProdName}}</td>
                        <td>{{ product.quantity }}</td>
                        <td>{{ product.price}}</td>
                        <td><span class="mr-2"><button class="btn btn-primary" (click)="showDialog()" (click)="onEditProduct(product.id, product)">Edit</button></span>
                            <span><button class="btn btn-danger" (click)="deleteProduct(product.id)">Remove</button></span>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-sm-10">
        <div class="card">
            <p-chart type="bar" [data]="basicData" />
        </div>
    </div>
</div>